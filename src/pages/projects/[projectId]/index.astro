---
import { Icon } from "astro-icon";
import AppLayout from "@layouts/AppLayout.astro";
import FullScreenScaffold from "@components/app/FullScreenScaffold.astro";
import Overlay from "@components/common/Overlay";
import CreatePhaseBubble from "@components/projects/actions/CreatePhaseBubble.astro";

export function getStaticPaths() {
  return [
    {params: {projectId: 1}},
  ];
}

const { projectId } = Astro.params;
---

<AppLayout title="Hospital San Felipe">
    <Overlay client:load />
    <CreatePhaseBubble active />
    <FullScreenScaffold title="Hospital San Felipe" backLink="/projects">
        <div class="w-6 h-6 bg-lime-500 rounded-full border-[6px] border-lime-200 self-end"></div>
        <div class="w-full flex gap-4">
          <p class="text-sm self-end">22 ago 2023</p>
          <div class="flex-1 flex flex-col items-center gap-1">
            <p class="text-3xl font-medium">30%</p>
            <p class="text-sm">6 meses restantes</p>
            <div class="w-full h-1 flex-shrink-0 flex bg-gray-200 rounded-full">
                <div style={`width: 30%`} class={`bg-amber-400 rounded-full`}></div>
            </div>
          </div>
          <p class="text-sm self-end">22 ago 2023</p>
        </div>
        <div class="relative w-full mt-4 flex flex-col gap-3 pl-10">
          <div class="w-1 h-full absolute left-2.5 border-l-4 border-dashed border-gray-400"></div>
          <a href="/projects/1/phase/1" class="w-full flex items-center gap-3 pb-3">
            <div class="flex flex-col flex-1">
              <div class="w-6 h-6 transform -translate-x-10 bg-lime-500 rounded-full border-[6px] border-lime-200"></div>
              <p class="text-sm">22 agosto - 22 septiembre</p>
              <h3 class="text-lg font-semibold">Etapa 1 - Cimentación</h3>
              <div class="flex items-center">
                  <div class="w-full flex-shrink-0 flex-1 flex items-center gap-2">
                      <div class="w-full h-1 flex bg-gray-200 rounded-full">
                          <div style={`width: ${ 30 }%`} class={`bg-amber-400 rounded-full`}></div>
                      </div>
                      <span class="text-sm font-medium">{ 30 }%</span>
                  </div>
              </div>
            </div>
            <div class="bg-lime-500 text-white rounded-full p-1"><Icon class="w-4 h-4" name="fa-solid:check"/></div>
            <Icon class="w-4 h-4 text-gray-300" name="fa-solid:chevron-right"/>
          </a>
          <a href="/projects/1/phase/1" class="w-full flex items-center gap-3 pb-3">
            <div class="flex flex-col flex-1">
              <div class="w-6 h-6 transform -translate-x-10 bg-lime-500 rounded-full border-[6px] border-lime-200"></div>
              <p class="text-sm">22 agosto - 22 septiembre</p>
              <h3 class="text-lg font-semibold">Etapa 1 - Cimentación</h3>
              <div class="flex items-center">
                  <div class="w-full flex-shrink-0 flex-1 flex items-center gap-2">
                      <div class="w-full h-1 flex bg-gray-200 rounded-full">
                          <div style={`width: ${ 30 }%`} class={`bg-amber-400 rounded-full`}></div>
                      </div>
                      <span class="text-sm font-medium">{ 30 }%</span>
                  </div>
              </div>
            </div>
            <div class="bg-lime-500 text-white rounded-full p-1"><Icon class="w-4 h-4" name="fa-solid:check"/></div>
            <Icon class="w-4 h-4 text-gray-300" name="fa-solid:chevron-right"/>
          </a>
          <div class="w-6 h-6 transform -translate-x-10 bg-lime-500 rounded-full border-[6px] border-lime-200">
            <Icon name="fa-solid:flag" class="w-6 h-6 transform -translate-y-5 text-lime-500"/>
          </div>
        </div>
    </FullScreenScaffold>
</AppLayout>